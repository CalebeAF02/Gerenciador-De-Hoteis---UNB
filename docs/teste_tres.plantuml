@startuml
' Requisitos visuais
skinparam linetype ortho
skinparam classAttributeIconSize 0
skinparam packageTitleFontColor #000000
skinparam packageBorderColor #444444
skinparam packageBackgroundColor #FFFFFF
skinparam classBackgroundColor #FFFFFF
skinparam classBorderColor #333333
skinparam stereotypeCBackgroundColor #FFFFFF
skinparam stereotypeCBorderColor #333333
skinparam shadowing false

' =====================================================================================
' Pacote: sistema (núcleo)
' =====================================================================================
package "include/sistema" #FFE7BA {

  package "include/sistema (root)" #FFF1D6 {
    class Hotelaria::BancoDeDados {
      - sqlite3* db
      --
      + sqlite3* getConexao() const
      + bool abrindoConexao()
      + bool fechandoConexao()
      + void iniciar()
      --
      - void tabelaGerente(sqlite3* db)
      - void tabelaHospede(sqlite3* db)
      - void tabelaHotel(sqlite3* db)
      - void tabelaQuarto(sqlite3* db)
      - void tabelaReserva(sqlite3* db)
      - void tabelaSolicitacoesDeHospedagem(sqlite3* db)
    }

    class Hotelaria::Sistema {
      - bool executando = true
      - ControladoraApresentacaoAcessoGerente contoladoraApresentacaoAcessoGerente
      - ControladoraApresentacaoAcessoHospede contoladoraApresentacaoAcessoHospede
      --
      + void iniciar()
      --
      - void exibirMenu()
      - bool getExecutandoSistema()
      - void sair()
    }

    class Hotelaria::Versao {
      {static} - uint64_t valor = 136
      {static} - string data = "2025-11-17 21:56"
      --
      {static} + uint8_t patch()
      {static} + uint8_t minor()
      {static} + uint64_t major()
      {static} + uint64_t getValor()
      {static} + string getData()
      {static} + string getVersaoCompleta()
    }
  }

  package "include/sistema/objetos/dominios" #E8F4FF {
    class Hotelaria::Capacidade {
      - int capacidadeInt
      - void validar(int valor)
      --
      + Capacidade()
      + Capacidade(const int& valor)
      + void setValor(const int& valor)
      + int getValor() const
    }

    class Hotelaria::Cartao {
      - string cartaoStr
      - void validar(string valor)
      --
      + Cartao()
      + Cartao(const string& valor)
      + void setValor(const string& valor)
      + string getValor() const
    }

    class Hotelaria::Codigo {
      - string codigoStr
      - void validar(string valor)
      --
      + Codigo()
      + Codigo(const string& valor)
      + void setValor(const string& valor)
      + string getValor() const
    }

    class Hotelaria::Data {
      + int dia
      + int mes
      + int ano
      --
      {static} + int const JAN
      {static} + int const FEV
      {static} + int const MAR
      {static} + int const ABR
      {static} + int const MAI
      {static} + int const JUN
      {static} + int const JUL
      {static} + int const AGO
      {static} + int const SET
      {static} + int const OUT
      {static} + int const NOV
      {static} + int const DEZ
      --
      - void validar()
      + Data()
      + Data(const string& dataStr)
      + string toString()
      + void setData(int d, int m, int a)
      + int getDia()
      + int getMes()
      + int getAno()
    }

    class Hotelaria::Dinheiro {
      - int valor
      - void validar(int dinheiroInt)
      --
      + Dinheiro()
      + Dinheiro(const int& dinheiroInt)
      + void setValor(int dinheiroInt)
      + int getValor() const
    }

    class Hotelaria::Email {
      - string emailStr
      - void validar(const string& valor)
      --
      + Email()
      + Email(const string& valor)
      + void setValor(const string& valor)
      + string getValor() const
    }

    class Hotelaria::Endereco {
      - string enderecoStr
      - void validar(string valor)
      --
      + Endereco()
      + Endereco(const string& valor)
      + void setValor(const string& valor)
      + string getValor() const
    }

    class Hotelaria::Nome {
      - string nomeStr
      - void validar(const string& valor)
      --
      + Nome()
      + Nome(const string& valor)
      + void setValor(const string& valor)
      + string getValor() const
    }

    class Hotelaria::Numero {
      - string numeroStr
      - void validar(string valor)
      --
      + Numero()
      + Numero(const string& valor)
      + void setValor(const string& valor)
      + string getValor() const
    }

    class Hotelaria::Ramal {
      - string ramalStr
      - void validar(const string& valor)
      --
      + Ramal()
      + Ramal(const string& valor)
      + void setValor(const string& valor)
      + string getValor() const
    }

    class Hotelaria::Senha {
      - string senhaStr
      - void validar(string valor)
      --
      + Senha()
      + Senha(const string& valor)
      + void setValor(const string& valor)
      + string getValor() const
    }

    class Hotelaria::Telefone {
      - string telefoneStr
      - void validar(string valor)
      --
      + Telefone()
      + Telefone(const string& valor)
      + void setValor(const string& valor)
      + string getValor() const
    }
  }

  package "include/sistema/objetos/entidades" #E8FFE8 {
    class Hotelaria::Pessoa {
      # Nome nome
      # Email email
      --
      + Pessoa(Nome nomeObj, Email emailObj)
      + void setPessoaNome(const Nome& valor)
      + void setPessoaEmail(const Email& valor)
      + string getNome() const
      + string getEmail() const
    }

    class Hotelaria::Gerente {
      - Ramal ramal
      - Senha senha
      --
      + Gerente()
      + Gerente(Nome nomePessoaObj, Email emailPessoaObj, Ramal ramal, Senha senha)
      + Gerente(GerenteDTO& gerente_dto)
      + void setNome(const Nome& newNome)
      + void setEmail(const Email& newEmail)
      + void setRamal(const Ramal& newRamal)
      + void setSenha(const Senha& newSenha)
      + string getRamal() const
      + string getSenha() const
    }

    class Hotelaria::Hospede {
      - Endereco endereco
      - Cartao cartao
      --
      + Hospede()
      + Hospede(Nome nomePessoaObj, Email emailPessoaObj, Endereco endereco, Cartao cartao)
      + void setNome(const Nome& newNome)
      + void setEmail(const Email& newEmail)
      + void setEndereco(const Endereco& newEndereco)
      + void setCartao(const Cartao& newCartao)
      + string getEndereco() const
      + string getCartao() const
    }

    class Hotelaria::Hotel {
      - Nome nome
      - Endereco endereco
      - Telefone telefone
      - Codigo codigo
      --
      + Hotel()
      + Hotel(Nome nome, Endereco endereco, Telefone telefone, Codigo codigo)
      + Hotel(HotelDTO& hotel_dto)
      + void setNome(const Nome& newNome)
      + void setEndereco(const Endereco& newEndereco)
      + void setTelefone(const Telefone& newTelefone)
      + void setCodigo(const Codigo& newCodigo)
      + string getNome() const
      + string getEndereco() const
      + string getTelefone() const
      + string getCodigo() const
    }

    class Hotelaria::Quarto {
      - Numero numero
      - Capacidade capacidade
      - Dinheiro diaria
      - Ramal ramal
      --
      + Quarto()
      + Quarto(Numero numero, Capacidade capacidade, Dinheiro diaria, Ramal ramal)
      + void setNumero(const Numero& newNumero)
      + void setCapacidade(const Capacidade& newCapacidade)
      + void setDiaria(const Dinheiro& newDiaria)
      + void setRamal(const Ramal& newRamal)
      + string getNumero() const
      + int getCapacidade() const
      + int getDiaria() const
      + string getRamal() const
    }

    class Hotelaria::Reserva {
      - Data chegada
      - Data partida
      - Dinheiro dinheiro
      - Codigo codigo
      --
      + Reserva()
      + Reserva(Data chegada, Data partida, Dinheiro dinheiro, Codigo codigo)
      + void setChegada(const Data& newChegada)
      + void setPartida(const Data& newPartida)
      + void setDinheiro(const Dinheiro& newDinheiro)
      + void setCodigo(const Codigo& newCodigo)
      + Data getChegada() const
      + Data getPartida() const
      + int getDinheiro() const
      + string getCodigo() const
    }

    class Hotelaria::SolicitacaoHospedagem {
      - string hospedeId
      - string hotelId
      - string quartoId
      - Data chegada
      - Data partida
      - StatusSolicitacaoHospedagem status
      - string motivoRecusa
      --
      + SolicitacaoHospedagem()
      + SolicitacaoHospedagem(const string& hospedeId, const string& hotelId, const string& quartoId, const Data& chegada, const Data& partida, const StatusSolicitacaoHospedagem status, const string& motivoRecusa)
      + void setHospedeId(const string& id)
      + void setHotelId(const string& id)
      + void setQuartoId(const string& id)
      + void setChegada(const Data& d)
      + void setPartida(const Data& d)
      + void setStatus(StatusSolicitacaoHospedagem s)
      + void setMotivoRecusa(const string& motivo)
      + string getHospedeId() const
      + string getHotelId() const
      + string getQuartoId() const
      + Data getChegada() const
      + Data getPartida() const
      + StatusSolicitacaoHospedagem getStatus() const
      + string getMotivoRecusa() const
    }
  }

  package "include/sistema/objetos/entidades_dto" #F0E8FF {
    class Hotelaria::GerenteDTO {
      - int id
      - string nome
      - string email
      - string ramal
      --
      + GerenteDTO()
      + GerenteDTO(int id, string nome, string email, string ramal)
      + int getId() const
      + void setId(int id)
      + string getNome() const
      + void setNome(const string& nome)
      + string getEmail() const
      + void setEmail(const string& email)
      + string getRamal() const
      + void setRamal(const string& ramal)
    }

    class Hotelaria::HotelDTO {
      - int id
      - string nome
      - string endereco
      - string telefone
      - string codigo
      --
      + HotelDTO()
      + HotelDTO(int id, string nome, string endereco, string telefone, string codigo)
      + int getId() const
      + void setId(int id)
      + string getNome() const
      + void setNome(const string& nome)
      + string getEndereco() const
      + void setEndereco(const string& endereco)
      + string getTelefone() const
      + void setTelefone(const string& telefone)
      + string getCodigo() const
      + void setCodigo(const string& codigo)
    }
  }

  package "include/sistema/sub_sistema/pacote_acesso" #FFD2D2 {

    package "modulo_apresentacao_acesso" #FFEBEB {
      interface Hotelaria::InterfaceApresentacaoAcesso <<interface>> {
        + void exibirMenu()
        + void setControladoraServicoAcesso(InterfaceServicoAcesso*)
      }

      class Hotelaria::ControladoraApresentacaoAcessoGerente {
        - InterfaceServicoAcesso* controladora_servico_acesso_gerente
        - ControladorInterfaceGerente controladorGerente
        --
        + void exibirMenu()
        + void setControladoraServicoAcesso(InterfaceServicoAcesso*)
        + void exibirMenuGerenciador()
      }

      class Hotelaria::ControladoraApresentacaoAcessoHospede {
        - InterfaceServicoAcesso* controladora_servico_acesso_hospede
        --
        + void exibirMenu()
        + void setControladoraServicoAcesso(InterfaceServicoAcesso*)
        + void opcoesDeHospedagem()
        + void solicitandoHospedagem()
        + void statusDaSolicitandoHospedagem() const
      }
    }

    package "modulo_servico_acesso" #FFE5E5 {
      class Hotelaria::ControladoraServicoAcessoGerente {
      }

      class Hotelaria::ControladoraServicoAcessoHospede {
      }

      class Hotelaria::InterfaceServicoAcesso {
      }
    }
  }

  package "include/sistema/sub_sistema/pacote_autenticavel" #D2FFE1 {

    package "modulo_apresentacao_autenticavel" #E6FFF0 {
      interface Hotelaria::InterfaceApresentacaoAutenticavel <<interface>> {
        + void sair()
        + bool autenticar(Email*)
        + void setControladoraServicoAutenticavel(InterfaceServicoAutenticavel*)
        + void setEstaAutenticado(bool estaAutenticado)
        + bool getEstaAutenticado()
      }

      class Hotelaria::ControladoraApresentacaoAutenticavel {
        - InterfaceServicoAutenticavel* controladora_servico_autenticavel
        - bool estaAutenticado = false
        --
        + void sair()
        + bool autenticar(Email*)
        + void setControladoraServicoAutenticavel(InterfaceServicoAutenticavel*)
        + void setEstaAutenticado(bool estaAutenticado)
        + bool getEstaAutenticado()
        + InterfaceServicoAutenticavel* getHacke()
      }
    }

    package "modulo_servico_autenticavel" #E6FFF0 {
      interface Hotelaria::InterfaceServicoAutenticavel <<interface>> {
        + bool autenticar(const Email, const Senha)
      }

      class Hotelaria::ControladoraServicoAutenticavel {
        + bool autenticar(const Email, const Senha)
      }
    }
  }

  package "include/sistema/sub_sistema/pacote_fabrica" #D2E8FF {

    package "modulo_apresentacao_fabrica" #E6F1FF {
      interface Hotelaria::InterfaceFabricaGerenciavel <<interface>> {
        + unique_ptr<MenuCRUD> criar()
        + ~InterfaceFabricaGerenciavel()
      }

      class Hotelaria::FabricaGerenciavel<T> {
        + shared_ptr<T> criar()
        + void ler()
        + void atualizar()
        + void remover()
        + void executarMenu(string tituloStr, bool& executando)
      }
    }
  }

  package "include/sistema/sub_sistema/pacote_gerente" #F5D2FF {

    package "modulo_apresentacao_gerente" #FAE6FF {
      interface Hotelaria::InterfaceApresentacaoGerente <<interface>> {
        + void executar(const Email email)
        + void setControladoraServicoPessoal(InterfaceServicoGerente*)
      }

      class Hotelaria::ControladoraApresentacaoGerente {
        - {static} int INCLUIR = 1
        - {static} int REMOVER = 2
        - {static} int PESQUISAR = 3
        - {static} int EDITAR = 4
        - {static} int RETORNAR = 5
        - InterfaceServicoGerente* controladora_servico_pessoal
        --
        + void executar(const Email)
        + void setControladoraServicoPessoal(InterfaceServicoGerente*)
      }

      class Hotelaria::ControladorInterfaceGerente {
        - PersistenciaGerente persistencia
        - bool executando = true
        - bool estaAutenticado = false
        --
        + ControladorInterfaceGerente()
        + void exibirMenuCRUD()
        + void criar()
        + void ler()
        + void atualizar()
        + void remover()
      }
    }

    package "modulo_persistencia_gerente" #FAE6FF {
      class Hotelaria::PersistenciaGerente {
        + bool inserir(Gerente& gerente)
        + vector<GerenteDTO*> listar()
        + bool atualizar(int id, const Gerente& gerente)
        + bool excluirPorId(int id)
        + bool autenticarGerente(const string& email, const string& senha)
        + optional<GerenteDTO> buscaGerentePorID(int id)
      }
    }

    package "modulo_servico_gerente" #FAE6FF {
      interface Hotelaria::InterfaceServicoGerente <<interface>> {
        + bool incluir(const Gerente)
        + bool remover(const Email email)
        + bool pesquisar(Gerente)
        + bool editar(const Gerente)
        + ~InterfaceServicoGerente()
      }

      class Hotelaria::ControladoraServicoGerente {
        + bool incluir(const Gerente)
        + bool remover(const Email email)
        + bool pesquisar(Gerente)
        + bool editar(const Gerente)
      }
    }
  }

  package "include/sistema/sub_sistema/pacote_hospede" #FFF0D6 {

    package "modulo_apresentacao_hospede" #FFF8E8 {
      interface Hotelaria::InterfaceApresentacaoHospede <<interface>> {
        + bool valor()
        + void setControladoraServicoHospede(InterfaceServicoHospede*)
      }

      class Hotelaria::ControladoraApresentacaoHospede {
        - InterfaceServicoHospede* controladora_servico_hospede
        --
        + bool valor()
        + void setControladoraServicoHospede(InterfaceServicoHospede*)
      }

      class Hotelaria::ControladorInterfaceHospede {
        - PersistenciaHospede persistencia
        - bool executando = true
        --
        + ControladorInterfaceHospede()
        + void avaliarSolicitacoes()
        + void exibirMenuCRUD()
        + void criar()
        + void ler()
        + void atualizar()
        + void remover()
      }
    }

    package "modulo_persistencia_hospede" #FFF8E8 {
      class Hotelaria::PersistenciaHospede {
        - string caminho = "Dados_Hospedes.txt"
        --
        + vector<Hospede*> listar()
        + bool criar(Hospede& gerente)
      }

      class Hotelaria::PersistenciaSolicitacaoHospedagem {
        + {static} void inicializar()
        + {static} void salvar(const SolicitacaoHospedagem& s)
        + {static} vector<SolicitacaoHospedagem> buscarPorEmail(const string& email)
        + {static} vector<SolicitacaoHospedagem> buscarPorStatus(int status)
        + {static} void atualizar(const SolicitacaoHospedagem& s)
      }
    }

    package "modulo_servico_hospede" #FFF8E8 {
      interface Hotelaria::InterfaceServicoHospede <<interface>> {
        + bool valor()
      }

      class Hotelaria::ControladoraServicoHospede {
      }
    }
  }

  package "include/sistema/sub_sistema/pacote_hotel" #D6FFF8 {

    package "modulo_apresentacao_hotel" #E8FFFB {
      interface Hotelaria::InterfaceApresentacaoHotel <<interface>> {
        + bool valor()
        + void setControladoraServicoHotel(InterfaceServicoHotel*)
      }

      class Hotelaria::ControladoraApresentacaoHotel {
        - InterfaceServicoHotel* controladora_servico_hotel
        --
        + bool valor()
        + void setControladoraServicoHotel(InterfaceServicoHotel*)
      }

      class Hotelaria::ControladorInterfaceHotel {
        - PersistenciaHotel persistencia
        - bool executando = true
        --
        + ControladorInterfaceHotel()
        + void exibirMenu()
        + void exibirMenuCRUD()
        + void criar()
        + void ler()
        + void atualizar()
        + void remover()
      }
    }

    package "modulo_persistencia_hotel" #E8FFFB {
      class Hotelaria::PersistenciaHotel {
        + bool inserir(Hotel* hotel)
        + vector<HotelDTO*> listar()
        + optional<HotelDTO> buscaHotelPorID(int id)
        + bool atualizar(int id, const Hotel& hotel)
      }
    }

    package "modulo_servico_hotel" #E8FFFB {
      interface Hotelaria::InterfaceServicoHotel <<interface>> {
        + bool valor()
      }

      class Hotelaria::ControladoraServicoHotel {
      }
    }
  }

  package "include/sistema/sub_sistema/pacote_quarto" #E8D6FF {

    package "modulo_apresentacao_quarto" #F3E8FF {
      interface Hotelaria::InterfaceApresentacaoQuarto <<interface>> {
        + bool valor()
        + void setControladoraServicoQuarto(InterfaceServicoQuarto*)
      }

      class Hotelaria::ControladoraApresentacaoQuarto {
        - InterfaceServicoQuarto* controladora_servico_quarto
        --
        + bool valor()
        + void setControladoraServicoQuarto(InterfaceServicoQuarto*)
      }

      class Hotelaria::ControladorInterfaceQuarto {
        + ControladorInterfaceQuarto()
        + void exibirMenu()
        + void exibirMenuCRUD()
      }
    }

    package "modulo_servico_quarto" #F3E8FF {
      interface Hotelaria::InterfaceServicoQuarto <<interface>> {
        + bool valor()
      }

      class Hotelaria::ControladoraServicoQuarto {
      }
    }
  }

  package "include/sistema/sub_sistema/pacote_reserva" #D6E8FF {

    package "modulo_apresentacao_reserva" #EAF1FF {
      interface Hotelaria::InterfaceApresentacaoReserva <<interface>> {
        + bool valor()
        + void setControladoraServicoReserva(InterfaceServicoReserva* controladora_servico_reserva)
      }

      class Hotelaria::ControladoraApresentacaoReserva {
        - InterfaceServicoReserva* controladora_servico_reserva
        --
        + bool valor()
        + void setControladoraServicoReserva(InterfaceServicoReserva*)
        + void exibirMenu()
        + void exibirMenuCRUD()
      }

      class Hotelaria::ControladorInterfaceReserva {
        + ControladorInterfaceReserva()
        + void exibirMenu()
        + void exibirMenuCRUD()
      }
    }

    package "modulo_servico_reserva" #EAF1FF {
      interface Hotelaria::InterfaceServicoReserva <<interface>> {
        + bool valor()
      }

      class Hotelaria::ControladoraServicoReserva {
      }
    }
  }

  package "include/sistema/utilitarios" #D6FFD6 {
    class Utils::Utils <<utility>> {
      + {static} bool verificaSeENumero(const string& str)
    }
  }

  package "include/sistema/utilitarios/enum" #CFE8CF {
    class Hotelaria::EnumConversor {
      + {static} int StatusSolicitacaoHospedagemParaInteiro(StatusSolicitacaoHospedagem status)
      + {static} StatusSolicitacaoHospedagem InteiroParaStatusSolicitacaoHospedagem(int valor)
    }

    enum Hotelaria::StatusSolicitacaoHospedagem {
      PENDENTE = 0
      APROVADO = 1
      RECUSADO = 2
    }
  }
}

' =====================================================================================
' Pacote: libs (framework de apresentação)
' =====================================================================================
package "libs" #FFE6E6 {

  package "libs/formato" #FFECEC {
    class Formato::Formato <<utility>> {
      + {static} void RepetirCaracter(int qntCaracteres, char c)
      + {static} string RepetirCaracterMesmaLinha(int qntCaracteres, char c)
      + {static} void TituloEmCaixa(const string& titulo)
      + {static} void SeparadorDeCategoria(const string& titulo)
      + {static} void OpcaoEmCaixa(const string& texto, const int& numero)
      + {static} void OpcaoEmCaixa(const string& texto, const string& numero)
      + {static} void OpcaoSimples(const string& texto, const int& numero)
    }
  }

  package "libs/io" #FFF0F0 {
    class IO::IO <<utility>> {
      + {static} string LerLinha()
      + {static} string LerOpcao()
      + {static} bool tentarNovamente()
      + {static} void Println(const string& mensagem)
      + {static} void Print(const string& mensagem)
    }
  }

  package "libs/menu" #FFF6F6 {
    interface Hotelaria::ExibirMenu <<interface>> {
      + void exibirMenu()
    }

    class VisualizadorDeMenu::Menu {
      - vector<MenuItem> menuItens
      - int contador = -1
      --
      + int adcionarItens(string nome)
      + vector<MenuItem> listar()
      + int executa(string tituloStr)
    }

    class VisualizadorDeMenu::MenuItem {
      - string nome
      - string valor
      - int valorConstante
      --
      + MenuItem(string nomeStr, string valorStr, int valorConstanteInt)
      + string getNome()
      + string getValor()
      + int getValorConstante()
    }

    interface Hotelaria::MenuCRUD <<interface>> {
      + void criar()
      + void ler()
      + void atualizar()
      + void remover()
      + ~MenuCRUD()
    }
  }

  package "libs/tabela" #FFF9E6 {
    class VisualizadorDeTabela::Atributo {
      - string nome
      - string valor
      --
      + Atributo()
      + Atributo(string nome, string valor)
      + void setNome(string nome)
      + void setValor(string valor)
      + string getNome()
      + string getValor()
    }

    class VisualizadorDeTabela::Linha {
      - vector<shared_ptr<Atributo>> atributos
      --
      + Linha()
      + void atributo(string nome, string valor)
      + void atributo(string nome, int valor)
      + vector<shared_ptr<Atributo>> getAtributos()
    }

    class VisualizadorDeTabela::Tabela {
      - vector<shared_ptr<Linha>> linhas
      --
      + Tabela()
      + Linha* criarObj()
      + void exibirTabela(string titulo)
    }

    class VisualizadorDeTabela::TamanhoAtributo {
      - string nome
      - int tamanho = 0
      --
      + TamanhoAtributo()
      + TamanhoAtributo(string nome, int tamanho)
      + void setNome(string nome)
      + void setTamanho(int tamanho)
      + string getNome()
      + int getTamanho()
    }
  }

  package "libs/teste" #E6FFF6 {
    class Teste::InterfaceDeTeste {
      - {static} int contTodalTestes
      - {static} int contTodalTestesOk
      - {static} int contTodalTestesProblema
      - {static} vector<string> listaFalhas
      --
      + {static} const int DEVE_DAR_ERRADO = -1
      + {static} const int DEVE_DAR_CERTO = 1
      + void executar()
      + ~InterfaceDeTeste()
      + {static} void checaResultado(int esperando_resultado, int resultado_teste)
      + {static} void apresentacaoTeste(const string& valor)
      + {static} void apresentacaoTeste(const int& valor)
      + {static} void registrarFalha(const string& dominio, const string& entrada, const string& erro)
      + {static} void mostrarRelatorioDeTestes()
      + {static} int getTestes()
      + {static} int getTestesOk()
      + {static} int getTestesProblema()
    }

    class Teste::SmokeTeste {
      + void testarDominio(int esperando_resultado, const string& valor_teste, const string& dominio, function<void()> funcao_validacao)
      + void testarEntidade(int esperando_resultado, const string& valor_teste, const string& entidade, function<void()> funcao_validacao)
      + void testarDominio<T>(int esperando_resultado, const T& valor_teste, const string& dominio, function<void()> funcao_validacao)
      + void testarEntidade<T>(int esperando_resultado, const T& valor_teste, const string& entidade, function<void()> funcao_validacao)
    }
  }
}

' =====================================================================================
' Relações de herança e implementação (todos os casos, com rótulos obrigatórios)
' =====================================================================================

' Heranças (classes concretas)
Hotelaria::Gerente --|> Hotelaria::Pessoa : herança
Hotelaria::Hospede --|> Hotelaria::Pessoa : herança

' Implementações (classes concretas implementando interfaces)
Hotelaria::ControladoraApresentacaoAcessoGerente ..|> Hotelaria::InterfaceApresentacaoAcesso : implementação
Hotelaria::ControladoraApresentacaoAcessoHospede ..|> Hotelaria::InterfaceApresentacaoAcesso : implementação

Hotelaria::ControladoraApresentacaoAutenticavel ..|> Hotelaria::InterfaceApresentacaoAutenticavel : implementação
Hotelaria::ControladoraServicoAutenticavel ..|> Hotelaria::InterfaceServicoAutenticavel : implementação

Hotelaria::ControladoraApresentacaoGerente ..|> Hotelaria::InterfaceApresentacaoGerente : implementação
Hotelaria::ControladoraServicoGerente ..|> Hotelaria::InterfaceServicoGerente : implementação

Hotelaria::ControladoraApresentacaoHospede ..|> Hotelaria::InterfaceApresentacaoHospede : implementação
Hotelaria::ControladoraServicoHospede ..|> Hotelaria::InterfaceServicoHospede : implementação

Hotelaria::ControladoraApresentacaoHotel ..|> Hotelaria::InterfaceApresentacaoHotel : implementação
Hotelaria::ControladoraServicoHotel ..|> Hotelaria::InterfaceServicoHotel : implementação

Hotelaria::ControladoraApresentacaoQuarto ..|> Hotelaria::InterfaceApresentacaoQuarto : implementação
Hotelaria::ControladoraServicoQuarto ..|> Hotelaria::InterfaceServicoQuarto : implementação

Hotelaria::ControladoraApresentacaoReserva ..|> Hotelaria::InterfaceApresentacaoReserva : implementação
Hotelaria::ControladoraServicoReserva ..|> Hotelaria::InterfaceServicoReserva : implementação

' Múltiplas heranças (controladores que herdam interfaces de menu)
Hotelaria::ControladorInterfaceGerente --|> Hotelaria::ControladoraApresentacaoAutenticavel : herança
Hotelaria::ControladorInterfaceGerente ..|> Hotelaria::MenuCRUD : implementação

Hotelaria::ControladorInterfaceHotel ..|> Hotelaria::ExibirMenu : implementação
Hotelaria::ControladorInterfaceHotel ..|> Hotelaria::MenuCRUD : implementação

Hotelaria::ControladorInterfaceHospede ..|> Hotelaria::MenuCRUD : implementação

Hotelaria::ControladorInterfaceQuarto ..|> Hotelaria::ExibirMenu : implementação

Hotelaria::ControladorInterfaceReserva ..|> Hotelaria::ExibirMenu : implementação

' =====================================================================================
' Relações de composição (membros-atributos entre classes), com rótulos "composição"
' =====================================================================================

' Entidades com domínios
Hotelaria::Hotel *-- Hotelaria::Nome : composição
Hotelaria::Hotel *-- Hotelaria::Endereco : composição
Hotelaria::Hotel *-- Hotelaria::Telefone : composição
Hotelaria::Hotel *-- Hotelaria::Codigo : composição

Hotelaria::Quarto *-- Hotelaria::Numero : composição
Hotelaria::Quarto *-- Hotelaria::Capacidade : composição
Hotelaria::Quarto *-- Hotelaria::Dinheiro : composição
Hotelaria::Quarto *-- Hotelaria::Ramal : composição

Hotelaria::Reserva *-- Hotelaria::Data : composição
Hotelaria::Reserva *-- Hotelaria::Dinheiro : composição
Hotelaria::Reserva *-- Hotelaria::Codigo : composição

Hotelaria::Pessoa *-- Hotelaria::Nome : composição
Hotelaria::Pessoa *-- Hotelaria::Email : composição

Hotelaria::Gerente *-- Hotelaria::Ramal : composição
Hotelaria::Gerente *-- Hotelaria::Senha : composição

Hotelaria::Hospede *-- Hotelaria::Endereco : composição
Hotelaria::Hospede *-- Hotelaria::Cartao : composição

Hotelaria::SolicitacaoHospedagem *-- Hotelaria::Data : composição
Hotelaria::SolicitacaoHospedagem *-- Hotelaria::StatusSolicitacaoHospedagem : composição

' Controladoras e dependências internas relevantes
Hotelaria::ControladoraApresentacaoAcessoGerente *-- Hotelaria::ControladorInterfaceGerente : composição
Hotelaria::ControladoraApresentacaoAcessoGerente o-- Hotelaria::InterfaceServicoAcesso : composição

Hotelaria::ControladoraApresentacaoAcessoHospede o-- Hotelaria::InterfaceServicoAcesso : composição

Hotelaria::ControladoraApresentacaoAutenticavel o-- Hotelaria::InterfaceServicoAutenticavel : composição

Hotelaria::ControladoraApresentacaoGerente o-- Hotelaria::InterfaceServicoGerente : composição

Hotelaria::ControladoraApresentacaoHospede o-- Hotelaria::InterfaceServicoHospede : composição

Hotelaria::ControladoraApresentacaoHotel o-- Hotelaria::InterfaceServicoHotel : composição

Hotelaria::ControladoraApresentacaoQuarto o-- Hotelaria::InterfaceServicoQuarto : composição

Hotelaria::ControladoraApresentacaoReserva o-- Hotelaria::InterfaceServicoReserva : composição

Hotelaria::Sistema *-- Hotelaria::ControladoraApresentacaoAcessoGerente : composição
Hotelaria::Sistema *-- Hotelaria::ControladoraApresentacaoAcessoHospede : composição

' Persistências e DTOs
Hotelaria::PersistenciaGerente ..> Hotelaria::BancoDeDados : uso
Hotelaria::PersistenciaGerente ..> Hotelaria::GerenteDTO : uso
Hotelaria::PersistenciaGerente ..> Hotelaria::Gerente : uso

Hotelaria::PersistenciaHotel ..> Hotelaria::BancoDeDados : uso
Hotelaria::PersistenciaHotel ..> Hotelaria::HotelDTO : uso
Hotelaria::PersistenciaHotel ..> Hotelaria::Hotel : uso

Hotelaria::PersistenciaHospede ..> Hotelaria::Hospede : uso

Hotelaria::PersistenciaSolicitacaoHospedagem ..> Hotelaria::BancoDeDados : uso
Hotelaria::PersistenciaSolicitacaoHospedagem ..> Hotelaria::SolicitacaoHospedagem : uso
Hotelaria::PersistenciaSolicitacaoHospedagem ..> Hotelaria::EnumConversor : uso

' Fabrica genérica e Menu
Hotelaria::FabricaGerenciavel ..> VisualizadorDeMenu::Menu : uso
Hotelaria::FabricaGerenciavel ..> Hotelaria::MenuCRUD : uso

' Controladores utilizam libs
Hotelaria::ControladorInterfaceGerente ..> VisualizadorDeMenu::Menu : uso
Hotelaria::ControladorInterfaceGerente ..> VisualizadorDeTabela::Tabela : uso
Hotelaria::ControladorInterfaceGerente ..> VisualizadorDeTabela::Linha : uso
Hotelaria::ControladorInterfaceGerente ..> IO::IO : uso
Hotelaria::ControladorInterfaceGerente ..> Formato::Formato : uso
Hotelaria::ControladorInterfaceGerente ..> Utils::Utils : uso

Hotelaria::ControladorInterfaceHotel ..> VisualizadorDeMenu::Menu : uso
Hotelaria::ControladorInterfaceHotel ..> VisualizadorDeTabela::Tabela : uso
Hotelaria::ControladorInterfaceHotel ..> VisualizadorDeTabela::Linha : uso
Hotelaria::ControladorInterfaceHotel ..> IO::IO : uso
Hotelaria::ControladorInterfaceHotel ..> Formato::Formato : uso
Hotelaria::ControladorInterfaceHotel ..> Utils::Utils : uso

Hotelaria::ControladorInterfaceHospede ..> VisualizadorDeMenu::Menu : uso
Hotelaria::ControladorInterfaceHospede ..> IO::IO : uso
Hotelaria::ControladorInterfaceHospede ..> Formato::Formato : uso

Hotelaria::ControladoraApresentacaoAcessoHospede ..> Formato::Formato : uso
Hotelaria::ControladoraApresentacaoAcessoHospede ..> IO::IO : uso

Hotelaria::ControladoraApresentacaoAcessoGerente ..> Formato::Formato : uso
Hotelaria::ControladoraApresentacaoAcessoGerente ..> IO::IO : uso

Hotelaria::Sistema ..> VisualizadorDeMenu::Menu : uso
Hotelaria::Sistema ..> IO::IO : uso
Hotelaria::Sistema ..> Hotelaria::Versao : uso

' EnumConversor e Enum
Hotelaria::EnumConversor ..> Hotelaria::StatusSolicitacaoHospedagem : uso

@enduml
